Version 4
SHEET 1 1560 808
WIRE 224 192 224 96
WIRE 224 192 208 192
WIRE 304 192 304 96
WIRE 304 192 288 192
WIRE 320 192 304 192
WIRE 784 192 624 192
WIRE 928 192 848 192
WIRE 1248 192 1104 192
WIRE 1472 192 1312 192
WIRE -176 304 -176 288
WIRE -176 304 -304 304
WIRE 80 320 16 320
WIRE 176 320 160 320
WIRE 208 320 208 192
WIRE 208 320 176 320
WIRE 224 320 208 320
WIRE 528 320 464 320
WIRE 624 320 624 192
WIRE 624 320 608 320
WIRE 640 320 624 320
WIRE 736 320 720 320
WIRE 816 320 736 320
WIRE -304 336 -304 304
WIRE -176 336 -176 304
WIRE 320 336 320 192
WIRE 320 336 288 336
WIRE 464 336 464 320
WIRE 464 336 320 336
WIRE 928 336 928 192
WIRE 928 336 880 336
WIRE 992 336 928 336
WIRE 1104 336 1104 192
WIRE 1104 336 1072 336
WIRE 1120 336 1104 336
WIRE 1232 336 1200 336
WIRE 1312 336 1232 336
WIRE 16 352 16 320
WIRE 224 352 192 352
WIRE 816 352 784 352
WIRE 1472 352 1472 192
WIRE 1472 352 1376 352
WIRE 1232 368 1232 336
WIRE 1312 368 1280 368
WIRE 736 384 736 320
WIRE 1472 384 1472 352
WIRE 464 400 464 336
WIRE 192 416 192 352
WIRE 784 448 784 352
WIRE 928 448 928 336
WIRE 928 448 784 448
WIRE 1232 464 1232 432
WIRE 1280 480 1280 368
WIRE 1472 480 1472 464
WIRE 1472 480 1280 480
WIRE 1472 496 1472 480
WIRE 192 528 192 496
FLAG -304 336 0
FLAG -176 208 VCC
FLAG -176 416 VEE
FLAG 256 304 VCC
FLAG 256 368 VEE
FLAG 16 432 0
FLAG 464 480 0
FLAG 1472 352 Vout
FLAG 16 320 Vs
FLAG 176 320 Vneg
FLAG 192 528 0
FLAG 736 448 0
FLAG 848 304 VEE
FLAG 848 368 VCC
FLAG 1232 464 0
FLAG 1472 576 0
FLAG 1344 320 VEE
FLAG 1344 384 VCC
SYMBOL OpAmps\\opamp2 256 272 R0
SYMATTR InstName U1
SYMATTR Value LM358
SYMBOL res 64 336 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 24k
SYMBOL voltage -176 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -176 320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL voltage 16 336 R0
WINDOW 123 19 148 Left 2
WINDOW 39 0 0 Left 0
WINDOW 3 -15 255 Left 2
SYMATTR Value2 AC 1
SYMATTR Value PULSE(-1 1 0.5m 1ns 1ns 0.5m 1m)
SYMATTR InstName V3
SYMBOL res 448 384 R0
SYMATTR InstName R3
SYMATTR Value {R3}
SYMBOL cap 288 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.01µF
SYMBOL res 320 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1Meg
SYMBOL OpAmps\\opamp2 848 400 M180
SYMATTR InstName U2
SYMATTR Value LM358
SYMBOL OpAmps\\opamp2 1344 416 M180
SYMATTR InstName U3
SYMATTR Value LM358
SYMBOL cap 720 384 R0
SYMATTR InstName C2
SYMATTR Value 0.16n
SYMBOL cap 848 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 0.16n
SYMBOL res 736 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 680k
SYMBOL res 624 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 220k
SYMBOL res 1088 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res 1216 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 220k
SYMBOL cap 1216 368 R0
SYMATTR InstName C4
SYMATTR Value 0.16n
SYMBOL cap 1312 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 0.16n
SYMBOL res 1456 368 R0
SYMATTR InstName R8
SYMATTR Value 5k
SYMBOL res 1456 480 R0
SYMATTR InstName R9
SYMATTR Value 4.7k
SYMBOL res 176 400 R0
SYMATTR InstName R10
SYMATTR Value 24k
TEXT 256 -128 Left 2 !.lib "C:\\Users\\watts\\Documents\\LTspiceXVII\\microelectronics_2\\lib\\LM358 SPICE MODEL.lib"
TEXT -328 512 Left 2 !.tran 0 100ms 95ms
TEXT 256 -96 Left 2 !.meas tran vr2_max max V(Vs, Vneg)
TEXT 256 -72 Left 2 !.meas tran ir2_max max I(R2)
TEXT 256 -48 Left 2 !.meas tran Rin param vr2_max/ir2_max
TEXT 256 0 Left 2 !.four 1k v(vout)
TEXT 256 -24 Left 2 !.param R3 1000
TEXT -328 488 Left 2 !;.ac dec 10 10 10meg
