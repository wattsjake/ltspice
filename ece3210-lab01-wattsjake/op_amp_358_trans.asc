Version 4
SHEET 1 1376 680
WIRE 272 192 224 192
WIRE 480 192 352 192
WIRE -176 304 -176 288
WIRE -176 304 -304 304
WIRE 112 320 16 320
WIRE 224 320 224 192
WIRE 224 320 192 320
WIRE 256 320 224 320
WIRE -304 336 -304 304
WIRE -176 336 -176 304
WIRE 480 336 480 192
WIRE 480 336 320 336
WIRE 608 336 480 336
WIRE 16 352 16 320
WIRE 256 352 224 352
WIRE 608 368 608 336
WIRE 224 432 224 352
FLAG -304 336 0
FLAG -176 208 VCC
FLAG -176 416 VEE
FLAG 288 304 VCC
FLAG 288 368 VEE
FLAG 16 432 0
FLAG 224 432 0
FLAG 608 448 0
FLAG 608 336 Vout
FLAG 16 320 Vs
FLAG 224 192 Vneg
SYMBOL OpAmps\\opamp2 288 272 R0
SYMATTR InstName U1
SYMATTR Value LM358
SYMBOL res 368 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res 208 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 2k
SYMBOL voltage -176 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -176 320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL voltage 16 336 R0
WINDOW 123 22 122 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V3
SYMATTR Value SINE(0 100m 1k)
SYMBOL res 592 352 R0
SYMATTR InstName R3
SYMATTR Value {R3}
TEXT 264 40 Left 2 !.lib "C:\\Users\\watts\\Documents\\LTspiceXVII\\microelectronics_2\\lib\\LM358 SPICE MODEL.lib"
TEXT -328 512 Left 2 !;.ac dec 10 10 10meg
TEXT 264 72 Left 2 !.meas tran vr2_max max V(Vs, Vneg)
TEXT 264 96 Left 2 !.meas tran ir2_max max I(R2)
TEXT 264 120 Left 2 !.meas tran Rin param vr2_max/ir2_max
TEXT 928 248 Left 2 !.four 1k v(vout)
TEXT 40 552 Left 2 !.param R3 1000
TEXT -328 544 Left 2 !.tran 1e-2
TEXT 40 592 Left 2 !.meas AC tmp max mag(V(vout)); find the peak response
TEXT 40 616 Left 2 !.meas AC BW when mag(v(vout))=tmp/sqrt(2)
